<template name="couponItem">
  <view class="couponItem">
    <view class="couponInfo">
      <view class="left">
        <view class="reduce">
          <text wx:if="{{ coupon.type == 1 }}">￥</text>
          <text class="reduceCost">{{ coupon.type == 1 ? coupon.reduce_cost : (100 - coupon.discount) / 10 }}</text>
          <text wx:if="{{ coupon.type == 2 }}">折</text>
        </view>
        <view class="title">{{ coupon.title }}</view>
      </view>
      <view class="center">
        <rich-text
          class="desc"
          nodes="{{ coupon.description }}"
          type="text"
        />
        <view class="date">
          <text>{{ coupon.start_time }}至{{ coupon.end_time }}</text>
        </view>
      </view>
      <view class="right">
        <navigator
          class="useBt"
          wx:if="{{ status === 'available' }}"
          url="/pages/"
        >可用商品</navigator>

        <view
          class="getBt"
          wx:if="{{ status === 'receivable' }}"
          bindtap="onReceiveCoupon"
        >点击领取</view>
      </view>

    </view>
    <image
      class="bg"
      src="../../icons/couponItem.png"
      wx:if="{{ status === 'available'}}"
    />
    <image
      class="bg"
      src="../../icons/couponItemUsed.png"
      wx:if="{{ status === 'used' }}"
    />
    <image
      class="bg"
      src="../../icons/couponItemUseless.png"
      wx:if="{{ status === 'expired' }}"
    />
    <image
      class="bg"
      src="../../icons/couponItemGot.png"
      wx:if="{{ status === 'got' }}"
    />
  </view>
</template>
