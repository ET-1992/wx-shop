<loading isLoading="{{ isLoading }}" />
<image wx:if="{{ !isLoading && vendor.image_url }}" class="vendorImage" src="{{ vendor.image_url }}" mode="widthFix" />
<view class="couponsList" wx:if="{{ !isLoading && coupons.length}}">
  <view class="couponItemWrapper" wx:for="{{ coupons }}" wx:key="id" bindtap="onCouponClick" data-id="{{ item.id }}" data-status="{{ item.status }}" data-title="{{ item.title }}" data-index="{{ index }}">
    <couponList wx:if="{{ item.status == 2 && item.stock_qty }}" tplStyle="{{ tplStyle }}" coupon="{{ item }}" status="receivable" />
    <!-- 未领取 -->
    <couponList wx:if="{{ item.status == 4 }}" tplStyle="{{ tplStyle }}" coupon="{{ item }}" status="received" />
    <!-- 已领取 -->
    <couponList wx:if="{{ item.status == 2 && !item.stock_qty }}" tplStyle="{{ tplStyle }}" coupon="{{ item }}" status="nullCoupon" />
    <!-- 已抢光 -->
    <couponList wx:if="{{ item.status == 5 }}" tplStyle="{{ tplStyle }}" coupon="{{ item }}" status="used" />
    <!-- 已使用 -->
    <couponList wx:if="{{ item.status == 3 }}" tplStyle="{{ tplStyle }}" coupon="{{ item }}" status="expired" />
    <!-- 已过期 -->
  </view>
  <view class="viewProduct" bind:tap="navigateToHome" style="background-color: {{ themeColor.primaryColor }}"> 立即使用 </view>
  <view class="noCouponHint" wx:if="{{ !isLoading && !coupons.length }}">暂无可领取优惠券</view>
</view>
<console page="优惠劵列表" />