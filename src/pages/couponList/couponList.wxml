<loading isLoading="{{ isLoading }}" />
<image wx:if="{{ !isLoading && vendor.image_url }}" class="vendorImage" src="{{ vendor.image_url }}" mode="widthFix" />
<view class="couponsList" wx:if="{{ !isLoading && coupons.length}}">
  <button class="couponItemWrapper" wx:for="{{ coupons }}" wx:key="id" bindgetuserinfo="bindGetUserInfo" data-id="{{ item.id }}" data-status="{{ item.status }}" data-title="{{ item.title }}" data-index="{{ index }}" open-type="getUserInfo">
    <!-- 未领取 -->
    <couponList wx:if="{{ item.status == 2 && item.stock_qty }}" coupon="{{ item }}" status="receivable"  fromMemberShipPage="{{fromMemberShipPage}}"/>
    <!-- 已领取 -->
    <couponList wx:if="{{ item.status == 4 }}" coupon="{{ item }}" status="received" fromMemberShipPage="{{fromMemberShipPage}}"/>
    <!-- 已抢光 -->
    <couponList wx:if="{{ item.status == 2 && !item.stock_qty }}" coupon="{{ item }}" status="nullCoupon"  fromMemberShipPage="{{fromMemberShipPage}}"/>
    <!-- 已使用 -->
    <couponList wx:if="{{ item.status == 5 }}" coupon="{{ item }}" status="used" fromMemberShipPage="{{fromMemberShipPage}}"/>
    <!-- 已过期 -->
    <couponList wx:if="{{ item.status == 3 }}" coupon="{{ item }}" status="expired" fromMemberShipPage="{{fromMemberShipPage}}"/>
  </button>
  <view class="viewProduct" bind:tap="navigateToHome" wx:if="{{ tplStyle === 'vip_tpl' }}" style="background-color: #333"> 立即使用 </view>
  <view class="viewProduct" bind:tap="navigateToHome" wx:if="{{ tplStyle !== 'vip_tpl' }}" style="background-color: {{ themeColor.primaryColor }}"> 立即使用 </view>
  <view class="noCouponHint" wx:if="{{ !isLoading && !coupons.length }}">暂无可领取优惠券</view>
</view>