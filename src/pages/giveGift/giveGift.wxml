<view class="container">
  <view class="rule">
    <van-image width="680rpx" height="180rpx" fit="cover" src="/icons/giftCard/gift_card_rule.svg" />
  </view>
  <view class="product">
    <view class="product-main">
      <van-image width="150rpx" height="150rpx" radius="10rpx" src="{{ product.thumbnail || product.image_url }}" />
      <view class="product-right">
        <view class="product-title text-ellipsis-2">{{ product.title || '-' }}</view>
        <view class="product-right-bottom">
          <view class="product-sku-show">{{ product.sku_property_names }}</view>
          <view class="product-buy-num">x{{ product.quantity }}</view>
        </view>
      </view>
    </view>
    <view class="product-bottom">
      <view class="product-total-price">
        <text>商品总价</text>
        <text>{{ '￥' + totalPrice }}</text>
      </view>
      <view wx:if="{{ postage }}">
        <text>运费</text>
        <text>{{ '￥' + postage }}</text>
      </view>
    </view>
  </view>
  <view class="card">
    <view class="card-preview">
      <van-image width="500rpx" height="300rpx" radius="10rpx" src="{{ cardList[currentCardIndex].cover_img }}" />
    </view>
    <view class="card-options">
      <view class="card-title-wrap">
        <van-image width="30rpx" height="30rpx" src="/icons/giftCard/gift_card_heart.svg" />
        <view class="card-title">选择卡面</view>
      </view>
      <van-empty description="还没有卡面呢" wx:if="{{ !cardList.length }}" />
      <view class="card-list" wx:else bind:tap="onSelectCard">
        <van-image width="200rpx" height="120rpx" custom-class="card-img {{ index === currentCardIndex && 'card-img-active' }}" wx:for="{{ cardList }}" radius="10rpx" src="{{ item.cover_img }}" data-index="{{ index }}" wx:key="index" />
      </view>
    </view>
  </view>
  <van-goods-action>
    <van-goods-action-icon icon="/icons/store.png" text="店铺" bind:click="onClickIcon" />
    <van-goods-action-icon icon="/icons/context.png" text="客服" bind:click="onClickIcon" />
    <van-goods-action-button color="{{ themeColor.primaryColor }}" text="立即支付￥{{ totalPrice }}" bind:click="onOrderPay" />
  </van-goods-action>
</view>